_PATHS = {
    "reelLaposteHexa" : "main/textFiles/Matis-Laposte_hexasmal.csv",
    "laposteHexa" : "main/textFilesTest/laposteHexaTest.txt"
}

def premiereLigne(donnees, lines):
    #on définie le nombre de colonnes
    nbCol = len(lines[0].split(";"))

    firstLine = lines[0].split(";")
    firstLine[nbCol-1] = "latitude"
    firstLine.append("longitude")

    if "\ufeff" in firstLine[0]:
        firstLine[0] = firstLine[0].replace("\ufeff", "")

    donnees.append(firstLine)


def donneesReels(donnees, lines):
    for xLigne in range(1, len(lines)):
        ligne = lines[xLigne].split(";")
        ligne.append("")
        if "\n" in ligne[-2]:
            ligne[-2] = ligne[-2].replace("\n", "")
        
        # on delete l'espace en trop ds les coords
        if " " in ligne[-2]:
            ligne[-2] = ligne[-2].replace(" ", "")

        # on créé de réel coordonnées avec un tuple
        #on sépare d'abord les coords en latitude et longitude :
        coords = ligne[-2].split(",")
        if coords[0] != "":
            coords[0],coords[1] = float(coords[0]), float(coords[1])
            ligne[-2] = coords[0]
            ligne[-1] = coords[1]
        else:
            ligne[-1] = ""
        
        donnees.append(ligne)


def creerDonneesLaposteHexa(TEST):
    if TEST:
        file = open(_PATHS["laposteHexa"], "r", encoding='utf-8')
    else:
        file = open(_PATHS["reelLaposteHexa"], "r", encoding='utf-8')
    lines = file.readlines()
    donnees = []
    premiereLigne(donnees, lines)
    donneesReels(donnees, lines)
    file.close()
    return donnees